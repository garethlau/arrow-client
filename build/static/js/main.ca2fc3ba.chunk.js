(this["webpackJsonparrow-client"]=this["webpackJsonparrow-client"]||[]).push([[0],{119:function(e,t,n){e.exports=n(171)},124:function(e,t,n){},141:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(13),o=n.n(r),i=(n(124),n(33)),c=n(25),s=n(20),u=n.n(s),m=(n(141),n(142),n(174)),d=n(44),h=n.n(d),p=n(75);function E(e){var t=e.username,n=e.password,a=e.submit;return l.a.createElement("div",null,l.a.createElement(m.f,{helperText:t.helperText,label:"Label A",labelFor:"text-input",labelInfo:"(required)"},l.a.createElement(m.j,{id:"username-text-input",placeholder:"Username",value:t.value,onChange:t.onChange})),l.a.createElement(m.f,{helperText:n.helperText,label:"Label A",labelFor:"text-input",labelInfo:"(required)"},l.a.createElement(m.j,{id:"password-text-input",placeholder:"Username",value:n.value,onChange:n.onChange})),l.a.createElement(m.b,{onClick:a,text:"Login",intent:"primary"}))}var g=n(14),f=function(e){var t=Object(a.useState)(e),n=Object(g.a)(t,2),l=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(g.a)(o,2),c=i[0],s=i[1],u=Object(a.useState)(""),m=Object(g.a)(u,2),d=m[0],h=m[1];function p(){s(!1),h("")}return{value:l,onChange:function(e){p(),r(e.target.value)},clear:function(){r("")},hasError:c,helperText:d,setError:function(e){s(!0),h(e)},clearError:p}},b=n(24);function v(){var e=Object(c.f)(),t=f(""),n=f("");function a(){return(a=Object(p.a)(h.a.mark((function a(){var l,r,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l={username:t.value,password:n.value},a.prev=1,a.next=4,u.a.post(b.base+"/core/auth/login",l);case 4:r=a.sent,o=r.data.token,localStorage.setItem("ARROW_JWT_TOKEN",o),e.push("/dashboard"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0.message);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return l.a.createElement(E,{username:t,password:n,submit:function(){return a.apply(this,arguments)}})}var C=n(36),O=n(34),w=n(1);function x(e){var t=e.goto;return l.a.createElement(m.k,null,l.a.createElement(m.m,{align:O.a.LEFT},l.a.createElement(m.n,null,"Arrow"),l.a.createElement(m.l,null),l.a.createElement(m.b,{onClick:t("/"),className:w.a.MINIMAL,icon:"home",text:"Home"}),l.a.createElement(m.b,{onClick:t("/dashboard"),className:w.a.MINIMAL,icon:"control",text:"Dashboard"}),l.a.createElement(m.b,{onClick:t("/create"),className:w.a.MINIMAL,icon:"add",text:"Create"})),l.a.createElement(m.m,{align:O.a.RIGHT},l.a.createElement(m.b,{onClick:t("/login"),className:w.a.MINIMAL,icon:"log-in",text:"Login"})))}function y(){var e=Object(c.f)();return l.a.createElement(x,{goto:function(t){return function(){e.push(t)}}})}var j=n(30),T=(n(72),n(73),n(74),n(23));function k(e){var t=e.endpoints,n=e.selected,a=e.select,r=e.deleteAlert,o=e.cancelDelete,i=e.confirmDelete,c=e.view,s=e.edit,u=e.remove,d=e.endpointOverlay,h=e.handleViewClose;return l.a.createElement("div",null,l.a.createElement(y,null),l.a.createElement("section",null,l.a.createElement(m.a,{canOutsideClickCancel:!0,canEscapeKeyCancel:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete",icon:"trash",intent:T.a.DANGER,isOpen:r.isOpen,onCancel:o,onConfirm:i},l.a.createElement("p",null,"Are you sure you want to delete"," ",l.a.createElement("b",null,r.method," ",r.uri),"? This operation is irreversiable."))),l.a.createElement("div",{style:{padding:"25px"}},l.a.createElement(m.i,{bordered:!0,interactive:!0,style:{width:"100%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"75px"}},null),l.a.createElement("th",{style:{width:"100px"}},"METHOD"),l.a.createElement("th",null,"URL"),l.a.createElement("th",null,"Whitelist"),l.a.createElement("th",{style:{width:"300px"}},null))),l.a.createElement("tbody",null,t&&t.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{style:{textAlign:"center"}},l.a.createElement(m.c,{checked:n.includes(e._id),onChange:a(e._id)})),l.a.createElement("td",null,e.method),l.a.createElement("td",null,e.uri),l.a.createElement("td",null,e.whitelist.toString()),l.a.createElement("td",null,l.a.createElement(m.b,{onClick:c(e._id),style:{marginRight:"10px"},small:!0,rightIcon:"eye-open",text:"View",intent:"primary",outlined:!0}),l.a.createElement(m.b,{onClick:s(e._id),style:{marginRight:"10px"},small:!0,rightIcon:"edit",text:"Edit",intent:"warning",outlined:!0}),l.a.createElement(m.b,{onClick:u(e._id),small:!0,rightIcon:"trash",text:"Delete",intent:"danger",outlined:!0})))}))))),l.a.createElement("section",null,l.a.createElement(m.o,{onClose:h,className:w.a.OVERLAY_SCROLL_CONTAINER,isOpen:d.isOpen,canEscapeKeyClose:!0,canOutsideClickClose:!0,hasBackdrop:!0,usePortal:!0,useTallContent:!1},l.a.createElement("div",{style:{top:"50%",left:"50%",width:"600px",transform:"translate(-50%, -50%)"},className:w.a.CARD},l.a.createElement(m.g,null,"[",d.method,"] ",d.uri),l.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",overflow:"scroll",width:"500px",height:"300px"},dangerouslySetInnerHTML:{__html:d.displayCode?Object(j.highlight)(d.displayCode,j.languages.js):null}}),l.a.createElement("div",null,d.whitelist&&d.whitelist.length>0&&d.whitelist.map((function(e){return l.a.createElement("div",null,e)}))),l.a.createElement("div",{className:w.a.DIALOG_FOOTER_ACTIONS},l.a.createElement(m.b,{intent:T.a.DANGER,onClick:h,style:{margin:""}},"Close"))))))}var S=n(11),A=m.p.create({className:"recipe-toaster",position:S.a.TOP}),I=n(31),D=n.n(I);function R(){var e=Object(a.useState)([]),t=Object(g.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([""]),i=Object(g.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)({isOpen:!1,uri:"",method:""}),d=Object(g.a)(m,2),h=d[0],p=d[1],E=Object(a.useState)({isOpen:!1}),f=Object(g.a)(E,2),v=f[0],O=f[1];return Object(a.useEffect)((function(){var e=D.a.getJWTConfig();u.a.get("".concat(b.base,"/core/endpoint"),e).then((function(e){console.log(e.data.endpoints),r(e.data.endpoints)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(k,{endpoints:n,selected:c,select:function(e){return function(){if(c.includes(e)){var t=c.filter((function(t){return t!==e}));s(t)}else s([].concat(Object(C.a)(c),[e]))}},deleteAlert:h,confirmDelete:function(){var e=D.a.getJWTConfig();u.a.delete("".concat(b.base,'/core/endpoint?toDelete=["').concat(h.id,'"]'),e).then((function(e){p({isOpen:!1}),A.show({message:"Endpoint successfully deleted.",action:{onClick:function(){return window.location.reload(!1)},text:"Refresh"},intent:T.a.SUCCESS})})).catch((function(e){console.log(e)}))},cancelDelete:function(){p({isOpen:!1,uri:"",method:"",id:""})},view:function(e){return function(){var t=n.filter((function(t){return t._id===e}))[0];console.log(t),O({isOpen:!0,uri:t.uri,method:t.method,whitelist:t.whitelist,displayCode:t.displayCode})}},edit:function(e){return function(){}},remove:function(e){return function(){var t=n.filter((function(t){return t._id===e}))[0];console.log(t),p({isOpen:!0,uri:t.uri,method:t.method,id:e})}},endpointOverlay:v,handleViewClose:function(){O({isOpen:!1})}})}var N=n(80),_=n.n(N);function L(e){var t=e.uri,n=e.handleMethodChange,a=e.method,r=e.code,o=e.onCodeChange,i=e.testCode,c=e.createEndpoint,s=e.whitelist,u=e.authorizedDomains,d=e.addDomain,h=e.removeDomain,p=e.testResults,E=e.showTestResults;return l.a.createElement("div",null,l.a.createElement(y,null),l.a.createElement("div",{style:{padding:"30px"}},l.a.createElement(m.g,null,"Create Your New API Endpoint"),l.a.createElement(m.e,{style:{width:"450px",marginBottom:"15px"}},l.a.createElement(m.h,{id:"method-selector",value:a,options:["GET","POST","PUT","PATCH","DELETE"],onChange:n}),l.a.createElement(m.j,{id:"endpoint-uri-text-input",placeholder:"/animals/dogs",value:t.value,onChange:t.onChange})),l.a.createElement("div",{style:{width:"550px",marginBottom:"15px",border:"1px solid lightgrey"}},l.a.createElement(_.a,{value:r,onValueChange:o,highlight:function(e){return Object(j.highlight)(e,j.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})),l.a.createElement("div",{style:{width:"300px"}},l.a.createElement(m.g,null,"Authorized Domain Origins"),l.a.createElement("p",null,"Only requests made from these domains can access your API."),l.a.createElement("div",{style:{marginBottom:"15px"}},u.length>0&&u.map((function(e){return l.a.createElement("div",null,l.a.createElement(m.b,{icon:"remove",minimal:!0,onClick:h(e),intent:"danger",small:!0}),e)}))),l.a.createElement("div",{style:{marginBottom:"15px"}},l.a.createElement(m.e,null,l.a.createElement(m.j,{placeholder:"realurl.com",onChange:s.onChange,value:s.value}),l.a.createElement(m.b,{onClick:d,rightIcon:"add",intent:"primary",text:"Add Domain"})))),l.a.createElement("div",{style:{marginBottom:"15px"}},l.a.createElement(m.b,{onClick:i,icon:"lab-test",intent:"warning",text:"Check Validity"})),l.a.createElement("p",null,"Results:"),l.a.createElement("div",{style:{width:"550px",marginBottom:"15px",border:"1px solid lightgrey"}},l.a.createElement(m.d,{isOpen:E},l.a.createElement("pre",null,p.map((function(e){return l.a.createElement("div",null,l.a.createElement("code",null,"[",e.time,"] ",e.message))}))))),l.a.createElement(m.b,{onClick:c,icon:"globe-network",intent:"primary",text:"Create Endpoint"})))}function W(){var e=Object(c.f)(),t=f(""),n=Object(a.useState)("module.exports = (req, res) => {\n    /* Your code here */\n\n    /* Make sure to return a response object */\n    return res.status(200).send();\n}\n"),r=Object(g.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)("GET"),m=Object(g.a)(s,2),d=m[0],h=m[1],p=f(""),E=Object(a.useState)([]),v=Object(g.a)(E,2),O=v[0],w=v[1],x=Object(a.useState)([]),y=Object(g.a)(x,2),j=y[0],k=y[1],S=Object(a.useState)(!0),I=Object(g.a)(S,2),R=I[0],N=I[1];return l.a.createElement(L,{uri:t,handleMethodChange:function(e){h(e.currentTarget.value)},method:d,code:o,onCodeChange:function(e){i(e)},testCode:function(){var e={uri:t.value.substring(1),method:d,content:o,whitelist:O,body:{},query:{}},n=D.a.getJWTConfig();u.a.post(b.base+"/core/endpoint/validate",e,n).then((function(e){var t=new Date;k([].concat(Object(C.a)(j),[{message:e.data.message,time:t.toLocaleTimeString()}])),N(!0)})).catch((function(e){console.log(e)}))},createEndpoint:function(){var n={uri:t.value.substring(1),method:d,content:o,whitelist:O,body:{},query:{}},a=D.a.getJWTConfig();u.a.post(b.base+"/core/endpoint",n,a).then((function(t){console.log(t),A.show({message:"Endpoint created. ",action:{onClick:function(){return e.push("/dashboard")},text:"Go to Dashboard"},intent:T.a.SUCCESS})})).catch((function(e){console.log(e)}))},whitelist:p,authorizedDomains:O,addDomain:function(){w([].concat(Object(C.a)(O),[p.value])),p.clear()},removeDomain:function(e){return function(){w(O.filter((function(t){return t!==e})))}},testResults:j,showTestResults:R})}function M(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome to Arrow"),l.a.createElement(m.b,{intent:"primary",text:"Nice"}))}var B=function(){return l.a.createElement(i.a,null,l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/",component:M}),l.a.createElement(c.a,{path:"/login",component:v}),l.a.createElement(c.a,{path:"/dashboard",component:R}),l.a.createElement(c.a,{path:"/create",component:W})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,n){e.exports={base:"https://arrow.garethdev.space"}},31:function(e,t){e.exports={getJWT:function(){return localStorage.getItem("ARROW_JWT_TOKEN")},getJWTConfig:function(){return{headers:{Authorization:"Bearer "+localStorage.getItem("ARROW_JWT_TOKEN")}}}}},74:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.ca2fc3ba.chunk.js.map